# MMTFakeDataGenerator

The FakeDataLibrary generates periodically fake metrics (Activity, HRV, PPG, Workout, Sleep).

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.

### Installing

Add it in your root build.gradle at the end of repositories:

```
allprojects {
    repositories {
        ...
        maven { url 'https://jitpack.io' }
    }
}
```

Add the dependency:

```
dependencies {
    implementation 'com.github.maximemmt:MMTFakeDataGenerator:1.0'
}
```


### Using the library

The FakeDataLibrary is based on a background service which is periodically called in order to generate fake metric data.
The period can be set with the function:

```
setFakeDataRefreshPeriodMs(30*1000L); // Set the refresh period to 30 seconds
```
By default, the period is set to 5 minutes.
Each minute, the service will be called, and new fake data will be added into the Realm database.

You also have the possibility to choose which metric will be enabled/disabled (Activity/HRV/PPG/Workout) by calling the following functions with state set to true (metric enabled) or to false (metric disabled):

```
enableActivity(state)
enableHRV(state)
enablePPG(state)
enableWorkout(state)
```
By default, only Activity and HRV metric are enabled.

To start the service, please use this function:
```
startFakeDataService(Activity activity, Context context)
```

To stop this service, please use this function:
To start the service, please use this function:
```
stopFakeDataService(Activity activity, Context context)
```

If you want to erase all the fake data generated by the FakeDataLibrary, use this function:
```
eraseAllRealmDatabase();
```

Please note that the Sleep metric is not automatically generated by the FakeDataGeneratorService, since with a real watch, the app can't determine the value of the sleep state during the night.
After the wake-up, the app retrieve the full night and store it into the Realm database : this library emulate the same behavior.
To generate a fake sleep, please call this function:
```
generateFakeSleepData();
```
The generated sleep is always with the same pattern, and the end date is always the current date at 07:40:00
